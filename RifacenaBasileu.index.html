<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Rifa de Patroc√≠nio</title>
  <style>
    body {
      font-family: Arial, sans-serif;  
      text-align: center;
      color: greenyellow;
      margin: 0;
      padding: 0;
    }

    #video-fundo {
      position: fixed;
      top: 0;
      left: 0;
      min-width: 100%;
      min-height: 100%;
      object-fit: cover;
      z-index: -1;
    }

    .container {
      background: rgba(0, 0, 0, 0.7);
      padding: 20px;
      width: 100%;
      max-width: 1500px;
      margin: 20px auto;
      border-radius: 10px;
      position: relative;
      z-index: 1;
      background-size: cover;
      background-position: center;
      opacity: 180%;
    }

    h1 {
      font-size: 24px;
    }

    .grid-container {
      height: 100%;
      width: 100%;
      overflow-y: auto;
      margin-bottom: 20px;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(135px, 1fr));
      gap: 5px;
      padding: 10px;
    }

    .grid div {
      background: rgba(253, 253, 253, 0.64);
      opacity: 90%;
      font-weight: bold;
      color: black;
      padding: 20px;
      border-radius: 5px;
      font-size: 18px;
      cursor: pointer;
      transition: 0.3s;
      position: relative;
    }

    .grid div:hover {
      background: rgba(255, 215, 0, 0.6);
    }

    .selected {
      background: gold;
      color: black;
      font-weight: bold;
    }

    .confirmed {
      background: rgba(0, 128, 0, 0.6);
      color: white;
      font-weight: bold;
      box-shadow: 0 0 10px rgba(0, 255, 0, 0.6);
      pointer-events: none;
    }

    .titulo {
      font-size: 35px;
      margin-top: 15px;
      font-weight: bold;
      color: white;
      text-shadow:
        0px 0px 0px white,
        0px 0px 0px white,
        0px 0px 0px white,
        0px 0px 0px white;
    }

    .subtitulo {
      color: white;
      text-shadow:
         0px 0px 0px white,
        0px 0px 0px white,
        0px 0px 0px white,
        0px 0px 0px white;
    }

    .pix, .valor, .confPag, .premio {
      color: white;
      font-size: 30px;
    }

    .pix {
      font-size: 35px;
      margin-top: 15px;
      font-weight: bold;
    }

    .valor {
      margin-top: 15px;
      font-weight: bold;
      font-size: 30px;
      margin-bottom: 0;
    }

    .confPag {
      font-size: 35px;
      font-weight: bold;
      margin-bottom: 45px;
    }

    .instagram {
      margin-top: 26px;
      font-size: 30px;
      color: rgba(0, 0, 0, 0.7);
    }

    .instagram a {
      color: #220d77;
      text-decoration: none;
    }

    .premio a.botao-premio {
      display: inline-block;
      padding: 10px 20px;
      background-color: #3b5998;
      color: black;
      border: none;
      border-radius: 8px;
      font-size: 20px;
      font-weight: bold;
      text-decoration: none;
      box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
      transition: background-color 0.3s ease;
      margin-left: 10px;
    }

    .premio a.botao-premio:hover {
      background-color: #218838;
      cursor: pointer;
    }

    /* Novo bot√£o para o link Instagram */
    .botao-instagram {
      display: inline-block;
      padding: 10px 20px;
      background-color: #3b5998; /* Azul escuro */
      color: black;
      border: none;
      border-radius: 8px;
      font-size: 20px;
      font-weight: bold;
      text-decoration: none;
      box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
      transition: background-color 0.3s ease;
      margin-left: 10px;
    }

    .botao-instagram:hover {
      background-color: #2d4373;
      cursor: pointer;
    }

    .descricao {
      margin-top: 20px;
      padding: 15px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      font-size: 18px;
      color: #14130b;
    }

    .popup, .overlay {
      display: none;
      position: fixed;
      z-index: 999;
    }

    .popup {
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      text-align: center;
      width: 300px;
      z-index: 1000;
    }

    .popup input, .popup button {
      width: 90%;
      padding: 8px;
      margin: 10px 0;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    .popup .confirm {
      background: green;
      color: white;
    }

    .popup .cancel {
      background: red;
      color: white;
    }

    .overlay {
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
    }

    .name-list {
      margin-top: 5px;
      font-size: 14px;
      border-radius: 3px;
      word-wrap: break-word;
      overflow-wrap: break-word;
      max-width: 10em;
      white-space: normal;
    }

    .name-list.amarelo {
      background-color: yellow;
      color: black;
    }

    .name-list.verde {
      background-color: green;
      color: white;
    }

    @media (max-width: 768px) {
      .container {
        width: 95%;
        max-width: 100%;
      }

      .titulo {
        font-size: 20px;
      }

      .grid {
        grid-template-columns: repeat(5, 1fr);
      }

      .grid div {
        padding: 15px;
        font-size: 16px;
      }

      .valor, .pix, .instagram a {
        font-size: 16px;
      }

      .descricao {
        font-size: 14px;
      }

      .popup {
        width: 80%;
      }
    }

    @media (max-width: 480px) {
      .grid {
        grid-template-columns: repeat(3, 1fr);
      }

      .grid div {
        padding: 12px;
        font-size: 14px;
      }

      .valor, .pix, .instagram a {
        font-size: 28px;
      }

      .descricao {
        font-size: 12px;
      }
    }
  </style>
</head>
<body>

  <!-- üé• V√çDEO DE FUNDO -->
  <video autoplay muted loop id="video-fundo">
    <source src="fundo.mp4.mp4" type="video/mp4">
    Seu navegador n√£o suporta v√≠deo em HTML5.
  </video>

  <div class="container">
    <h1 class="titulo">Participe da Rifa Produ√ß√£o C√™nica Basileu Fran√ßa!</h1>
    <h2 class="subtitulo">Ao adquirir uma rifa, voc√™ estar√° contribuindo para a realiza√ß√£o do projeto curta cena.</h2>

    <div class="grid-container">
      <div class="grid" id="grid"></div>
    </div>

    <p class="valor">Valor R$ 10,00 </p>
    <p class="confPag">(Ap√≥s confirma√ß√£o do pagamento o n√∫mero ser√° validado.)</p>
    <p class="pix">PIX (62)981640222 Sandra Oliveira Skowronski</p>
    <p class="premio">
      O pr√™mio ser√° 2 vouchers jantar na churrascaria Gramado
      <a href="imagem.logos.jpg" class="botao-premio" target="_blank">clique aqui!</a>
    </p>
    <p class="confPag">
      Conhe√ßa mais do curso produ√ß√µes c√™nicas Basileu Fran√ßa no Instagram
      <a href="https://www.instagram.com/producaocenicabasileu" target="_blank" class="botao-instagram">clicando aqui</a>.
    </p>

    <!-- Container flex para imagens pr√≥ximas ao rodap√© -->
    <div style="display: flex; justify-content: flex-start; align-items: center; gap: 20px; margin: 20px 0;">
      <!-- Imagem alinhada √† esquerda -->
      <div style="flex: 0 0 auto;">
        <img src="imagem-rodape1.png.png" alt="Imagem √† esquerda do rodap√©" style="max-width: 300px; height: auto; border-radius: 10px;" />
      </div>

      <!-- Imagem centralizada (ou pr√≥xima) -->
      <div style="flex: 1; text-align: center;">
        <img src="imagem-rodape.jpg.png" alt="Imagem central pr√≥xima ao rodap√©" style="max-width: 300px; height: auto; border-radius: 10px;" />
      </div>
    </div>

    <marquee behavior="scroll" direction="left" scrollamount="10" style="font-weight: bold; font-size: 20px; color: yellow;">
      A Gest√£o do curso de produ√ß√£o c√™nica agradece a todos e boa sorte!
    </marquee>

    <div class="descricao"></div>
  </div>

  <div class="overlay" id="overlay"></div>

  <div class="popup" id="popup">
    <h2 id="popup-numero" style="color: black"></h2>
    <input type="text" id="input-nome" placeholder="Digite seu nome completo" />
    <input type="text" id="input-contato" placeholder="Digite seu contato" />
    <button class="confirm" id="btn-confirmar">Confirmar</button>
    <button class="cancel" id="btn-cancelar">Cancelar</button>
  </div>

  <!-- FIREBASE + JS -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
    import { getDatabase, ref, set, get } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyARl3GW4eFVuPJQVf5353V9JUxDsCWMSzY",
      authDomain: "rifacenacurtabasileu.firebaseapp.com",
      databaseURL: "https://rifacenacurtabasileu-default-rtdb.firebaseio.com",
      projectId: "rifacenacurtabasileu",
      storageBucket: "rifacenacurtabasileu.firebasestorage.app",
      messagingSenderId: "3612320470",
      appId: "1:3612320470:web:b9c354f87a9387a92b1f77"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    document.addEventListener("DOMContentLoaded", function () {
      let grid = document.getElementById("grid");
      let overlay = document.getElementById("overlay");
      let popup = document.getElementById("popup");
      let popupNumero = document.getElementById("popup-numero");
      let inputNome = document.getElementById("input-nome");
      let inputContato = document.getElementById("input-contato");
      let btnConfirmar = document.getElementById("btn-confirmar");
      let btnCancelar = document.getElementById("btn-cancelar");

      for (let i = 1; i <= 200; i++) {
        let div = document.createElement("div");
        div.textContent = i;
        div.dataset.numero = i;

        div.addEventListener("click", function () {
          if (div.classList.contains("confirmed")) return;
          popupNumero.textContent = "N√∫mero selecionado: " + this.dataset.numero;
          inputNome.value = "";
          inputContato.value = "";
          popup.style.display = "block";
          overlay.style.display = "block";
          div.classList.add("selected");
        });

        grid.appendChild(div);
      }

      function loadNames() {
        get(ref(db, "rifa"))
          .then(snapshot => {
            if (snapshot.exists()) {
              const rifaData = snapshot.val();
              for (let numero in rifaData) {
                let { nome, contato, pago } = rifaData[numero];
                let numberDiv = document.querySelector(`[data-numero='${numero}']`);
                if (numberDiv) {
                  let nameElement = document.createElement("div");
                  nameElement.classList.add("name-list", pago ? "verde" : "amarelo");
                  nameElement.textContent = nome + (contato ? ` / ${contato}` : "");
                  numberDiv.appendChild(nameElement);
                  numberDiv.classList.add("confirmed");
                }
              }
            }
          })
          .catch(console.error);
      }

      loadNames();

      btnConfirmar.addEventListener("click", function () {
        let nome = inputNome.value.trim();
        let contato = inputContato.value.trim();
        let numero = popupNumero.textContent.split(": ")[1];

        if (nome.length < 10 || nome.length > 20 || contato.length < 8 || contato.length > 15) {
          alert("Preencha corretamente os campos.");
          return;
        }

        set(ref(db, "rifa/" + numero), { nome, contato, pago: false }).then(() => {
          alert("N√∫mero confirmado!");
          let numberDiv = document.querySelector(`[data-numero='${numero}']`);
          numberDiv.classList.remove("selected");
          numberDiv.classList.add("confirmed");

          let nameElement = document.createElement("div");
          nameElement.classList.add("name-list", "amarelo");
          nameElement.textContent = nome + " / " + contato;
          numberDiv.appendChild(nameElement);
        });

        popup.style.display = "none";
        overlay.style.display = "none";
      });

      btnCancelar.addEventListener("click", function () {
        popup.style.display = "none";
        overlay.style.display = "none";
      });
    });
  </script>
</body>
</html>
</body>
</html>
